<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Compare It! - Product Comparison</title>
  <style>
    :root {
      --bg-color: #f0dcbd;
      --text-color: #000;
      --card-bg: white;
      --nav-bg: rgb(17, 61, 42);
      --border-color: #113d2a;
      --input-bg: white;
      --shadow-color: rgba(0,0,0,0.1);
      --price-text-color: #666;
    }

    [data-theme="dark"] {
      --bg-color: #1a1a1a;
      --text-color: #e0e0e0;
      --card-bg: #2d2d2d;
      --nav-bg: #0d2818;
      --border-color: #4a6b5a;
      --input-bg: #3a3a3a;
      --shadow-color: rgba(255,255,255,0.1);
      --price-text-color: #b0b0b0;
    }

    * {
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    nav {
      background-color: var(--nav-bg);
      padding: 10px 10px;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 15px;
      margin: 10px;
    }

    nav .text {
      color: white;
     font-size: 45px;
      font-family: "Porkys", sans-serif;
    }

    nav .nav-links {
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    nav .nav-links a {
      color: white;
      text-decoration: none;
      padding: 14px 20px;
      display: inline-block;
      font-family: "Porkys", sans-serif;
      font-size: 25px;
    }

    nav .nav-links a:hover {
      background-color: #507541;
      border-radius: 15px;
    }
    
    main {
      flex: 1;
    }

    .search-bar {
      margin: 20px;
      display: flex;
      gap: 10px;
    }
    
    .search-bar input {
      flex-grow: 1;
      padding: 10px;
      border-radius: 15px;
      border: 2px solid var(--border-color);
      background-color: var(--input-bg);
      color: var(--text-color);
    }
    
    .search-bar select {
      padding: 10px;
      border-radius: 15px;
      border: 2px solid var(--border-color);
      background-color: var(--input-bg);
      color: var(--text-color);
    }
    
    .search-bar button {
      padding: 10px 20px;
      border-radius: 15px;
      background-color: var(--bg-color);
      border: 2px solid var(--border-color);
      color: var(--text-color);
      cursor: pointer;
    }

    .search-bar button:hover {
      background-color: var(--border-color);
      color: white;
    }

    .header-section {
      background-color: var(--nav-bg);
      color: white;
      padding: 20px;
      margin: 20px;
      border-radius: 15px;
    }
    
    .header-section h2 {
     color: white;
      font-family: "Porkys", sans-serif;
      font-size: 30px;
      font-weight: lighter;
    }

    .product-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin: 20px;
    }

    .product-card {
      width: 300px;
      background-color: var(--card-bg);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 2px 5px var(--shadow-color);
      border: 2px solid var(--border-color);
    }

    .product-card img {
      width: 200px;
      height: 200px;
      object-fit: contain;
      margin: 0 auto;
      display: block;
    }

    .product-card h3 {
      text-align: center;
      color: var(--border-color);
      margin: 10px 0;
    }

    .product-card p {
      color: var(--price-text-color);
      margin: 10px 0;
    }

    .price-list {
      margin: 15px 0;
    }

    .price-item {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
      border-bottom: 1px solid var(--border-color);
      color: var(--text-color);
    }

    .rating {
      color: #ffcc00;
      text-align: center;
      font-size: 20px;
      margin: 10px 0;
    }

    .add-to-cart {
      display: block;
      width: 100%;
      padding: 10px;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 15px;
      margin-top: 10px;
      cursor: pointer;
    }

    .add-review {
      width: 100%;
      padding: 10px;
      background-color: #29805a;
      color: white;
      border: none;
      border-radius: 15px;
      margin-top: 10px;
      cursor: pointer;
    }

    .add-review:hover {
      background-color: #1f6047;
    }

    .review-input {
      width: 100%;
      margin-top: 10px;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      background-color: var(--input-bg);
      color: var(--text-color);
      display: none;
    }
    
    .filters-section {
      background-color: var(--card-bg);
      border-radius: 15px;
      border: 2px solid var(--border-color);
      margin: 0 20px 20px 20px;
      padding: 20px;
      display: none;
    }
    
    .filters-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .filter-group {
      flex: 1;
      min-width: 200px;
    }
    
    .filter-group h3 {
      color: var(--border-color);
      margin-top: 0;
      margin-bottom: 10px;
    }
    
    .filter-option {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .filter-option input[type="checkbox"] {
      margin-right: 8px;
    }
    
    .filter-option label {
      cursor: pointer;
      color: var(--text-color);
    }

    /* Footer styles */
    footer {
      background-color: var(--nav-bg);
      color: white;
      padding: 20px;
      margin: 20px;
      border-radius: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      flex-wrap: wrap;
      gap: 20px;
    }

    .footer-left {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .footer-left h3 {
      font-family: "Porkys", sans-serif;
      font-size: 24px;
      margin: 0;
      color: white;
    }

    .footer-left p {
      margin: 0;
      color: #b0b0b0;
      font-size: 14px;
    }

    .theme-toggle {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .theme-toggle label {
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    .toggle-switch {
      position: relative;
      width: 60px;
      height: 30px;
      background-color: #ccc;
      border-radius: 25px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .toggle-switch.active {
      background-color: #4CAF50;
    }

    .toggle-slider {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 24px;
      height: 24px;
      background-color: white;
      border-radius: 50%;
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    .toggle-switch.active .toggle-slider {
      transform: translateX(30px);
    }

    .copyright {
      text-align: center;
      width: 100%;
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid #4a6b5a;
      color: #b0b0b0;
      font-size: 12px;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .footer-content {
        flex-direction: column;
        text-align: center;
      }
      
      .theme-toggle {
        justify-content: center;
      }
      
      nav {
        flex-direction: column;
        gap: 10px;
      }
      
      nav .text {
        font-size: 35px;
      }
      
      .search-bar {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <nav>
    <div class="text">Compare It!</div>
    <div class="nav-links">
      <a href="reviews.html">Reviews</a>
    </div>
  </nav>

  <main>
    <div class="header-section">
      <h2>Product Comparison</h2>
    </div>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search products...">
      <select id="sortSelect">
        <option value="">Sort By</option>
        <option value="priceLowHigh">Price: Low to High</option>
        <option value="priceHighLow">Price: High to Low</option>
        <option value="name">Name</option>
      </select>
      <button id="toggleFilters">Show Filters</button>
      <button id="searchButton">Search</button>
    </div>

    <div class="filters-section" id="filtersSection">
      <div class="filters-grid">
        
        <div class="filter-group">
          <h3>Categories</h3>
          <div class="filter-option">
            <input type="checkbox" id="categoryDairy" checked>
            <label for="categoryDairy">Tinned stuff</label>
          </div>
          <div class="filter-option">
            <input type="checkbox" id="categoryBakery" checked>
            <label for="categoryBakery">Toiletries</label>
          </div>
          <div class="filter-option">
            <input type="checkbox" id="categorySnacks" checked>
            <label for="categorySnacks">Cleaning</label>
          </div>
          <div class="filter-option">
            <input type="checkbox" id="categoryElectronics" checked>
            <label for="categoryElectronics">Beverages</label>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Price Range</h3>
          <div class="filter-option">
            <input type="checkbox" id="price0-100" checked>
            <label for="price0-100">R0 - R100</label>
          </div>
          <div class="filter-option">
            <input type="checkbox" id="price100-500" checked>
            <label for="price100-500">R100 - R500</label>
          </div>
          <div class="filter-option">
            <input type="checkbox" id="price500plus" checked>
            <label for="price500plus">R500+</label>
          </div>
        </div>
      </div>
    </div>

    <div class="product-container">
      <!-- Koo beans -->
      <div class="product-card">
        <img src="./images/beans.png" alt="Koo Beans">
        <h3>Koo Beans</h3>
        <p>Koo Baked Beans in Tomato Sauce 400 g</p>
        <div class="price-list">
          <div class="price-item">
            <span>Woolworths</span>
            <span>R19.99</span>
          </div>
          <div class="price-item">
            <span>Checkers</span>
            <span>R18.99</span>
          </div>
          <div class="price-item">
            <span>PicknPay</span>
            <span>R16.99</span>
          </div>
        </div>
        <button class="add-review" onclick="toggleReview(this)">Add a review...</button>
        <input type="text" class="review-input" placeholder="Write your review here...">
      </div>

      <!-- Two Ply Toilet Paper -->
      <div class="product-card">
        <img src="./images/tissue.png" alt="Two Ply Toilet Paper">
        <h3>Two Ply Toilet Paper</h3>
        <p>Baby Soft Fresh White Two Ply Toilet Paper 18 pk</p>
        <div class="price-list">
          <div class="price-item">
            <span>Woolworths</span>
            <span>R169.99</span>
          </div>
          <div class="price-item">
            <span>Checkers</span>
            <span>R169.99</span>
          </div>
          <div class="price-item">
            <span>PicknPay</span>
            <span>R169.99</span>
          </div>
        </div>
        <button class="add-review" onclick="toggleReview(this)">Add a review...</button>
        <input type="text" class="review-input" placeholder="Write your review here...">
      </div>

      <!-- Coca Cola -->
      <div class="product-card">
        <img src="./images/coke.png" alt="Coca-Cola">
        <h3>Coca-Cola</h3>
        <p>Coca-Cola Original Soft Drink 2 L</p>
        <div class="price-list">
          <div class="price-item">
            <span>Woolworths</span>
            <span>R27.99</span>
          </div>
          <div class="price-item">
            <span>Checkers</span>
            <span>R27.99</span>
          </div>
          <div class="price-item">
            <span>PicknPay</span>
            <span>R26.99</span>
          </div>
        </div>
        <button class="add-review" onclick="toggleReview(this)">Add a review...</button>
        <input type="text" class="review-input" placeholder="Write your review here...">
      </div>

      <!-- Doom -->
      <div class="product-card">
        <img src="./images/doom.png" alt="Doom">
        <h3>Doom</h3>
        <p>Doom Super Multi Insect Spray 300 ml</p>
        <div class="price-list">
          <div class="price-item">
            <span>Woolworths</span>
            <span>R47.99</span>
          </div>
          <div class="price-item">
            <span>Checkers</span>
            <span>R49.99</span>
          </div>
          <div class="price-item">
            <span>PicknPay</span>
            <span>R49.99</span>
          </div>
        </div>
        <button class="add-review" onclick="toggleReview(this)">Add a review...</button>
        <input type="text" class="review-input" placeholder="Write your review here...">
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <div class="footer-left">
        <h3>Compare It!</h3>
        <p>Your trusted price comparison platform</p>
        <p>Compare prices across major South African retailers</p>
      </div>
      
      <div class="theme-toggle">
        <label for="themeToggle">🌙 Dark Mode</label>
        <div class="toggle-switch" id="themeToggle">
          <div class="toggle-slider">☀️</div>
        </div>
      </div>
    </div>
    
    <div class="copyright">
      <p>&copy; 2025 Compare It! All rights reserved. | Helping you find the best deals.</p>
    </div>
  </footer>

  <script src="products.js"></script>
  <script>
    // Dark mode functionality
    function initializeTheme() {
      const themeToggle = document.getElementById('themeToggle');
      const slider = themeToggle.querySelector('.toggle-slider');
      
      // Check for saved theme preference or default to light mode
      const savedTheme = localStorage.getItem('theme') || 'light';
      
      if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeToggle.classList.add('active');
        slider.textContent = '🌙';
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        themeToggle.classList.remove('active');
        slider.textContent = '☀️';
      }
    }

    function toggleTheme() {
      const themeToggle = document.getElementById('themeToggle');
      const slider = themeToggle.querySelector('.toggle-slider');
      const currentTheme = document.documentElement.getAttribute('data-theme');
      
      if (currentTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
        themeToggle.classList.remove('active');
        slider.textContent = '☀️';
      } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
        themeToggle.classList.add('active');
        slider.textContent = '🌙';
      }
    }

    // Initialize theme on page load
    document.addEventListener('DOMContentLoaded', function() {
      initializeTheme();
      
      // Add click event listener to theme toggle
      document.getElementById('themeToggle').addEventListener('click', toggleTheme);
    });

    // Check for new retailer responses when page loads
    window.addEventListener('DOMContentLoaded', function() {
      checkForNewResponses();
      
      // Check every 30 seconds for new responses (in a real app, this would be more sophisticated)
      setInterval(checkForNewResponses, 30000);
    });

    function checkForNewResponses() {
      const userReviews = JSON.parse(localStorage.getItem('userReviews') || '[]');
      const lastChecked = localStorage.getItem('lastResponseCheck') || '0';
      
      // Simulate checking for new responses (in a real app, this would be an API call)
      const mockResponses = JSON.parse(localStorage.getItem('mockResponses') || '[]');
      
      // Count responses that came after last check
      let newResponseCount = 0;
      mockResponses.forEach(response => {
        if (new Date(response.date) > new Date(lastChecked)) {
          newResponseCount++;
        }
      });
      
      // Update notification badge
      updateNotificationBadge(newResponseCount);
    }

    function updateNotificationBadge(count) {
      const badge = document.getElementById('notificationBadge');
      
      if (count > 0) {
        badge.textContent = count;
        badge.style.display = 'flex';
      } else {
        badge.style.display = 'none';
      }
    }

    // Function to simulate retailer response (for testing)
    function simulateRetailerResponse(productId, responseText) {
      const responses = JSON.parse(localStorage.getItem('mockResponses') || '[]');
      
      const newResponse = {
        productId: productId,
        retailer: 'Pick n Pay',
        text: responseText,
        date: new Date().toISOString(),
        id: Date.now()
      };
      
      responses.push(newResponse);
      localStorage.setItem('mockResponses', JSON.stringify(responses));
      
      // Trigger notification check
      checkForNewResponses();
    }

    // Mark responses as read when visiting reviews page
    const reviewsLink = document.querySelector('a[href="reviews.html"]');
    if (reviewsLink) {
      reviewsLink.addEventListener('click', function() {
        // Mark current time as last checked
        localStorage.setItem('lastResponseCheck', new Date().toISOString());
        
        // Hide badge immediately
        setTimeout(() => {
          updateNotificationBadge(0);
        }, 100);
      });
    }
  </script>
</body>
</html>
